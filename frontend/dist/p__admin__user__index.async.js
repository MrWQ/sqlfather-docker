"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{5779:function(ee,U,n){n.r(U),n.d(U,{default:function(){return k}});var $=n(42122),h=n.n($),E=n(27424),P=n.n(E),R=n(17061),s=n.n(R),w=n(17156),y=n.n(w),Z=n(85162),b=n(79864),d=n(48086),K=n(19650),Q=n(27049),x=n(20294),G=n(24565),L=n(71577),A=n(62435),B=n(50146),i=n(86074),N=function(){var c=y()(s()().mark(function a(t){var l;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=d.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,Z.cn)(h()({},t));case 4:return l(),d.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),l(),d.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},a,null,[[1,9]])}));return function(t){return c.apply(this,arguments)}}(),O=function(a){var t=a.modalVisible,l=a.columns,u=a.onSubmit,r=a.onCancel;return(0,i.jsx)(B.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA",open:t,onCancel:function(){return r()},footer:null,children:(0,i.jsx)(b.QVr,{onSubmit:function(){var e=y()(s()().mark(function o(f){var C;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,N(f);case 2:C=v.sent,C&&(u==null||u());case 4:case"end":return v.stop()}},o)}));return function(o){return e.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:l})})},z=O,J=function(){var c=y()(s()().mark(function a(t){var l,u;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=d.ZP.loading("\u6B63\u5728\u914D\u7F6E"),e.prev=1,e.next=4,(0,Z.Nq)(h()({id:(u=t.id)!==null&&u!==void 0?u:0},t));case 4:return l(),d.ZP.success("\u914D\u7F6E\u6210\u529F"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),l(),d.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},a,null,[[1,9]])}));return function(t){return c.apply(this,arguments)}}(),W=function(a){var t=a.oldData,l=a.columns,u=a.modalVisible,r=a.onSubmit,e=a.onCancel;return(0,i.jsx)(B.Z,{destroyOnClose:!0,title:"\u66F4\u65B0",open:u,onCancel:function(){return e()},footer:null,children:(0,i.jsx)(b.QVr,{rowKey:"id",type:"form",columns:l,form:{initialValues:t},onSubmit:function(){var o=y()(s()().mark(function f(C){var S;return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,J(h()(h()({},C),{},{id:t.id}));case 2:S=m.sent,S&&(r==null||r());case 4:case"end":return m.stop()}},f)}));return function(f){return o.apply(this,arguments)}}()})})},H=W,X=function(){var c=y()(s()().mark(function a(t){var l,u;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=d.ZP.loading("\u6B63\u5728\u5220\u9664"),t){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,Z.h8)({id:((u=t.find(function(o){return o.id}))===null||u===void 0?void 0:u.id)||0});case 6:d.ZP.success("\u64CD\u4F5C\u6210\u529F"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),d.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+e.t0.message);case 12:return e.prev=12,l(),e.finish(12);case 15:case"end":return e.stop()}},a,null,[[3,9,12,15]])}));return function(t){return c.apply(this,arguments)}}(),Y=function(){var a=(0,A.useState)(!1),t=P()(a,2),l=t[0],u=t[1],r=(0,A.useState)(!1),e=P()(r,2),o=e[0],f=e[1],C=(0,A.useState)({}),S=P()(C,2),v=S[0],m=S[1],q=(0,A.useRef)(),F=[{title:"id",dataIndex:"id",valueType:"index"},{title:"\u7528\u6237\u6635\u79F0",dataIndex:"userName",valueType:"text"},{title:"\u8D26\u53F7",dataIndex:"userAccount",valueType:"text"},{title:"\u7528\u6237\u5934\u50CF",dataIndex:"userAvatar",valueType:"image"},{title:"\u6027\u522B",dataIndex:"gender",hideInForm:!0,valueEnum:{0:{text:"\u7537"},1:{text:"\u5973"}}},{title:"\u7528\u6237\u89D2\u8272",dataIndex:"userRole",valueType:"text"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",hideInForm:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(V,T){return(0,i.jsxs)(K.Z,{split:(0,i.jsx)(Q.Z,{type:"vertical"}),children:[(0,i.jsx)(x.Z.Link,{onClick:function(){m(T),f(!0)},children:"\u4FEE\u6539"}),(0,i.jsx)(G.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u4E48\uFF1F",onConfirm:function(){return X([T])},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,i.jsx)(x.Z.Link,{type:"danger",children:"\u5220\u9664"})})]})}}];return(0,i.jsxs)(b._zJ,{children:[(0,i.jsx)(b.QVr,{headerTitle:"\u7528\u6237\u7BA1\u7406",actionRef:q,rowKey:"id",search:{labelWidth:"auto"},toolBarRender:function(){return[(0,i.jsx)(L.Z,{type:"primary",onClick:function(){return u(!0)},children:"\u65B0\u5EFA"},"1")]},request:function(){var p=y()(s()().mark(function V(T,I,_){var M,j,D;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,Z.fd)(h()(h()({},T),{},{sorter:I,filter:_}));case 2:return M=g.sent,j=M.data,D=M.code,g.abrupt("return",{data:(j==null?void 0:j.records)||[],success:D===0,total:j.total});case 6:case"end":return g.stop()}},V)}));return function(V,T,I){return p.apply(this,arguments)}}(),columns:F}),(0,i.jsx)(z,{modalVisible:l,columns:F,onSubmit:function(){},onCancel:function(){return u(!1)}}),(0,i.jsx)(H,{oldData:v,modalVisible:o,columns:F,onSubmit:function(){},onCancel:function(){return f(!1)}})]})},k=Y}}]);
