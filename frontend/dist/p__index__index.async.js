"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[610],{55375:function(Ge,ie,t){t.d(ie,{Jy:function(){return _},Wk:function(){return x},fk:function(){return R},lu:function(){return T},ri:function(){return me},rl:function(){return de},wn:function(){return fe}});var Pe="SQL\u4E4B\u7236",_=["tinyint","smallint","mediumint","int","bigint","float","double","decimal","date","time","year","datetime","timestamp","char","varchar","tinytext","text","mediumtext","longtext","tinyblob","blob","mediumblob","longblob","binary","varbinary"],de=["CURRENT_TIMESTAMP"],T={fieldName:"username",comment:"\u7528\u6237\u540D",defaultValue:void 0,fieldType:"varchar(256)",mockType:"\u968F\u673A",mockParams:"\u4EBA\u540D",notNull:!0,primaryKey:!1,autoIncrement:!1},me=[{fieldName:"id",comment:"\u4E3B\u952E",defaultValue:void 0,fieldType:"bigint",mockType:"\u4E0D\u6A21\u62DF",notNull:!0,primaryKey:!0,autoIncrement:!0},{fieldName:"create_time",comment:"\u521B\u5EFA\u65F6\u95F4",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"\u4E0D\u6A21\u62DF",notNull:!0,primaryKey:!1,autoIncrement:!1},{fieldName:"update_time",comment:"\u66F4\u65B0\u65F6\u95F4",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"\u4E0D\u6A21\u62DF",notNull:!0,primaryKey:!1,autoIncrement:!1,onUpdate:"CURRENT_TIMESTAMP"},{fieldName:"is_deleted",comment:"\u662F\u5426\u5220\u9664(0-\u672A\u5220, 1-\u5DF2\u5220)",defaultValue:"0",fieldType:"tinyint",mockType:"\u4E0D\u6A21\u62DF",notNull:!0,primaryKey:!1,autoIncrement:!1}],R=["\u56FA\u5B9A","\u968F\u673A","\u9012\u589E","\u89C4\u5219","\u8BCD\u5E93","\u4E0D\u6A21\u62DF"],fe=["\u5B57\u7B26\u4E32","\u6574\u6570","\u5C0F\u6570","\u65E5\u671F","\u65F6\u95F4\u6233","\u7F51\u5740","IP","\u90AE\u7BB1","\u624B\u673A\u53F7","\u4EBA\u540D","\u57CE\u5E02","\u5927\u5B66"],x={0:{text:"\u5F85\u5BA1\u6838"},1:{text:"\u901A\u8FC7"},2:{text:"\u62D2\u7EDD"}}},13112:function(Ge,ie,t){t.r(ie),t.d(ie,{default:function(){return Kt}});var Pe=t(42122),_=t.n(Pe),de=t(17061),T=t.n(de),me=t(17156),R=t.n(me),fe=t(27424),x=t.n(fe),We="id\uFF0C\u7528\u6237\u540D\uFF0C\u521B\u5EFA\u65F6\u95F4\uFF0C\u66F4\u65B0\u65F6\u95F4\uFF0Cis_deleted",He={dbName:"yupi_db",tableName:"user",tableComment:"\u7528\u6237\u8868",fieldList:[{fieldName:"username",comment:"\u7528\u6237\u540D",fieldType:"varchar(256)",mockType:"\u968F\u673A",mockParams:"\u4EBA\u540D",notNull:!0,primaryKey:!1,autoIncrement:!1},{fieldName:"id",comment:"\u4E3B\u952E",fieldType:"bigint",mockType:"\u56FA\u5B9A",notNull:!0,primaryKey:!0,autoIncrement:!0},{fieldName:"create_time",comment:"\u521B\u5EFA\u65F6\u95F4",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"\u56FA\u5B9A",notNull:!0,primaryKey:!1,autoIncrement:!1},{fieldName:"update_time",comment:"\u66F4\u65B0\u65F6\u95F4",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"\u56FA\u5B9A",notNull:!0,primaryKey:!1,autoIncrement:!1,extra:"on update CURRENT_TIMESTAMP"},{fieldName:"is_deleted",comment:"\u662F\u5426\u5220\u9664(0-\u672A\u5220, 1-\u5DF2\u5220)",defaultValue:"0",fieldType:"tinyint",mockType:"\u56FA\u5B9A",notNull:!0,primaryKey:!1,autoIncrement:!1}]},Xe=`-- \u7528\u6237\u8868
create table if not exists yupi_db.user
(
id bigint not null auto_increment comment '\u4E3B\u952E' primary key,
username varchar(256) not null comment '\u7528\u6237\u540D',
create_time datetime default CURRENT_TIMESTAMP not null comment '\u521B\u5EFA\u65F6\u95F4',
update_time datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '\u66F4\u65B0\u65F6\u95F4',
is_deleted tinyint default 0 not null comment '\u662F\u5426\u5220\u9664(0-\u672A\u5220, 1-\u5DF2\u5220)'
) comment '\u7528\u6237\u8868';`,se=t(62241),l=t(49409),E=t(48086),ne=t(50146),p=t(71577),U=t(19650),ve=t(94418),i=t(62435),e=t(86074),Ye=function(n){var c=n.visible,s=n.onSubmit,F=n.onClose,r=l.Z.useForm(),m=x()(r,1),d=m[0],f=function(){var o=R()(T()().mark(function h(C){var a;return T()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(C.content){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,u.next=5,(0,se.QF)(C);case 5:a=u.sent,s==null||s(a.data),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(2),E.ZP.error("\u5BFC\u5165\u9519\u8BEF\uFF0C"+u.t0.message);case 12:case"end":return u.stop()}},h,null,[[2,9]])}));return function(C){return o.apply(this,arguments)}}();return(0,e.jsx)(ne.Z,{title:"\u667A\u80FD\u5BFC\u5165",open:c,footer:null,onCancel:F,children:(0,e.jsxs)(l.Z,{form:d,layout:"vertical",onFinish:f,children:[(0,e.jsx)(l.Z.Item,{name:"content",label:(0,e.jsxs)(e.Fragment,{children:["\u8BF7\u8F93\u5165\u8868\u7684\u5217\u540D\uFF0C\u591A\u4E2A\u5217\u4EE5\u3010\u82F1\u6587\u6216\u4E2D\u6587\u9017\u53F7\u3011\u5206\u9694\uFF1A",(0,e.jsx)(p.Z,{onClick:function(){return d.setFieldValue("content",We)},children:"\u5BFC\u5165\u793A\u4F8B"})]}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u914D\u7F6E"}],children:(0,e.jsx)(ve.Z,{placeholder:"\u8BF7\u8F93\u5165\u8868\u7684\u5217\u540D\uFF0C\u591A\u4E2A\u5217\u4EE5\u3010\u82F1\u6587\u6216\u4E2D\u6587\u9017\u53F7\u3011\u5206\u9694\uFF1A",autoSize:{minRows:16}})}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(U.Z,{size:"large",children:[(0,e.jsx)(p.Z,{type:"primary",htmlType:"submit",style:{width:120},children:"\u5BFC\u5165"}),(0,e.jsx)(p.Z,{htmlType:"reset",children:"\u91CD\u7F6E"})]})})]})})},qe=Ye,_e=t(861),De=t.n(_e),Ne=t(91154),he=t(79864),Me=t(20294),et=function(){var S=R()(T()().mark(function n(c){var s;return T()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=E.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,Ne.ap)(_()({},c));case 4:return s(),E.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),s(),E.ZP.error("\u6DFB\u52A0\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 14:case"end":return r.stop()}},n,null,[[1,9]])}));return function(c){return S.apply(this,arguments)}}(),tt=function(n){var c=n.modalVisible,s=n.initialValues,F=n.onSubmit,r=n.onCancel,m=[{title:"\u540D\u79F0",dataIndex:"name",formItemProps:{rules:[{required:!0}]},fieldProps:{autoFocus:!0,placeholder:"\u8BF7\u8F93\u5165\u4E2D\u6587\u540D\u79F0"}},{title:"\u5185\u5BB9\uFF08\u4E0D\u5EFA\u8BAE\u5728\u6B64\u5904\u4FEE\u6539\uFF09",dataIndex:"content",valueType:"textarea"}];return(0,e.jsxs)(ne.Z,{destroyOnClose:!0,title:"\u4FDD\u5B58\u5B57\u6BB5\u4FE1\u606F\uFF08\u540E\u7EED\u53EF\u76F4\u63A5\u5BFC\u5165\uFF09",open:c,onCancel:function(){return r()},footer:null,children:[(0,e.jsx)(Me.Z.Text,{type:"secondary",children:"\u6CE8\u610F\uFF0C\u4F60\u63D0\u4EA4\u7684\u5185\u5BB9\u53EF\u80FD\u4F1A\u88AB\u516C\u5F00\uFF01"}),(0,e.jsx)("div",{style:{marginBottom:16}}),(0,e.jsx)(he.QVr,{form:{initialValues:s,submitter:{render:function(f,o){return De()(o.reverse())}}},onSubmit:function(){var d=R()(T()().mark(function f(o){var h;return T()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,et(o);case 2:h=a.sent,h&&(F==null||F());case 4:case"end":return a.stop()}},f)}));return function(f){return d.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:m})]})},nt=tt,rt=t(9543),Fe=t(18036),Ve=t(273),ut=function(n){var c=n.visible,s=n.onImport,F=n.onClose,r=(0,Fe.useModel)("@@initialState"),m=r.initialState,d=m==null?void 0:m.loginUser,f=d?function(o,h,C){(0,Ne.lU)(o).then(function(a){h(a.data.records),C(a.data.total)}).catch(function(a){E.ZP.error("\u52A0\u8F7D\u5931\u8D25\uFF0C"+a.message)})}:void 0;return(0,e.jsx)(Ve.Z,{title:"\u5BFC\u5165\u5B57\u6BB5",contentWrapperStyle:{width:"60%",minWidth:320},open:c,onClose:F,children:(0,e.jsx)(rt.Z,{onLoad:f,onImport:s})})},at=ut,pe=t(93351),lt=function(){var S=R()(T()().mark(function n(c){var s;return T()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=E.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,pe.ee)(_()({},c));case 4:return s(),E.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),s(),E.ZP.error("\u6DFB\u52A0\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 14:case"end":return r.stop()}},n,null,[[1,9]])}));return function(c){return S.apply(this,arguments)}}(),it=function(n){var c=n.modalVisible,s=n.initialValues,F=n.onSubmit,r=n.onCancel,m=[{title:"\u540D\u79F0",dataIndex:"name",formItemProps:{rules:[{required:!0}]},fieldProps:{autoFocus:!0,placeholder:"\u8BF7\u8F93\u5165\u4E2D\u6587\u540D\u79F0"}},{title:"\u5185\u5BB9\uFF08\u4E0D\u5EFA\u8BAE\u5728\u6B64\u5904\u4FEE\u6539\uFF09",dataIndex:"content",valueType:"textarea"}];return(0,e.jsxs)(ne.Z,{destroyOnClose:!0,title:"\u4FDD\u5B58\u8868\u4FE1\u606F\uFF08\u540E\u7EED\u53EF\u76F4\u63A5\u5BFC\u5165\uFF09",open:c,onCancel:function(){return r()},footer:null,children:[(0,e.jsx)(Me.Z.Text,{type:"secondary",children:"\u6CE8\u610F\uFF0C\u4F60\u63D0\u4EA4\u7684\u5185\u5BB9\u53EF\u80FD\u4F1A\u88AB\u516C\u5F00\uFF01"}),(0,e.jsx)("div",{style:{marginBottom:16}}),(0,e.jsx)(he.QVr,{form:{initialValues:s,submitter:{render:function(f,o){return De()(o.reverse())}}},onSubmit:function(){var d=R()(T()().mark(function f(o){var h;return T()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,lt(o);case 2:h=a.sent,h&&(F==null||F());case 4:case"end":return a.stop()}},f)}));return function(f){return d.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:m})]})},st=it,ee=t(55375),ot=t(93955),ct=t(58491),dt=t(57254),Ce=t(49101),$=t(34041),J=t(4107),Le=t(85986),Oe=t(27279),Re=t(87462),mt=t(71002),ke=t(29439),ft=t(94184),ye=t.n(ft),vt=t(50344),Ue=t(98423),$e=t(53124),xe=t(96159),Ze=$.Z.Option;function we(S){return S&&S.type&&(S.type.isSelectOption||S.type.isSelectOptGroup)}var ht=function(n,c){var s=n.prefixCls,F=n.className,r=n.popupClassName,m=n.dropdownClassName,d=n.children,f=n.dataSource,o=(0,vt.Z)(d),h;if(o.length===1&&(0,xe.l$)(o[0])&&!we(o[0])){var C=(0,ke.Z)(o,1);h=C[0]}var a=h?function(){return h}:void 0,b;return o.length&&we(o[0])?b=d:b=f?f.map(function(u){if((0,xe.l$)(u))return u;switch((0,mt.Z)(u)){case"string":return i.createElement(Ze,{key:u,value:u},u);case"object":{var N=u.value;return i.createElement(Ze,{key:N,value:N},u.text)}default:return}}):[],i.createElement($e.C,null,function(u){var N=u.getPrefixCls,M=N("select",s);return i.createElement($.Z,(0,Re.Z)({ref:c},(0,Ue.Z)(n,["dataSource"]),{prefixCls:M,dropdownClassName:r||m,className:ye()("".concat(M,"-auto-complete"),F),mode:$.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:a}),b)})},Je=i.forwardRef(ht);Je.Option=Ze;var Ke=Je,Ee=t(9676),Ft=t(27049),pt=t(20640),Ct=t.n(pt),Se=$.Z.Option,yt=(0,i.forwardRef)(function(S,n){var c=S.onSubmit,s=l.Z.useForm(),F=x()(s,1),r=F[0],m=(0,i.useState)([]),d=x()(m,2),f=d[0],o=d[1],h=(0,i.useState)(!1),C=x()(h,2),a=C[0],b=C[1],u=(0,i.useState)(!1),N=x()(u,2),M=N[0],W=N[1],K=(0,i.useState)(),te=x()(K,2),H=te[0],re=te[1],w=(0,i.useState)(),V=x()(w,2),L=V[0],P=V[1],z=(0,i.useState)(!1),X=x()(z,2),Y=X[0],ue=X[1],je=(0,i.useState)(0),ce=x()(je,2),ge=ce[0],ae=ce[1],Ie=(0,i.useState)([]),Q=x()(Ie,2),Te=Q[0],be=Q[1],Be=function(v){if(!v.fieldList||v.fieldList.length<1){E.ZP.error("\u81F3\u5C11\u65B0\u589E 1 \u4E2A\u5B57\u6BB5");return}console.log("Received values of form:",v),c==null||c(v)},j=function(){(0,ot.XP)({}).then(function(v){o(v.data)}).catch(function(v){E.ZP.error("\u52A0\u8F7D\u8BCD\u5E93\u5931\u8D25\uFF0C"+v.message)})};(0,i.useEffect)(function(){j()},[]),(0,i.useImperativeHandle)(n,function(){return{setFormValues:function(v){r.setFieldsValue(v)}}});var B=ee.Jy.map(function(g){return{label:g,value:g}}),q=ee.rl.map(function(g){return{label:g,value:g}}),G=function(v,Z){return Z.value.toUpperCase().indexOf(v.toUpperCase())!==-1};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.Z,{className:"form-input",form:r,scrollToFirstError:!0,onFinish:Be,onReset:function(){r.resetFields(["fieldList"])},children:[(0,e.jsx)(l.Z.Item,{name:"dbName",label:"\u5E93\u540D",children:(0,e.jsx)(J.Z,{placeholder:"\u591A\u4E2A\u5355\u8BCD\u95F4\u5EFA\u8BAE\u7528\u4E0B\u5212\u7EBF\u5206\u5272"})}),(0,e.jsx)(l.Z.Item,{name:"tableName",label:"\u8868\u540D",initialValue:"test_table",rules:[{required:!0}],children:(0,e.jsx)(J.Z,{placeholder:"\u591A\u4E2A\u5355\u8BCD\u95F4\u5EFA\u8BAE\u7528\u4E0B\u5212\u7EBF\u5206\u5272"})}),(0,e.jsx)(l.Z.Item,{name:"tableComment",label:"\u8868\u6CE8\u91CA",children:(0,e.jsx)(J.Z,{placeholder:"\u63CF\u8FF0\u8868\u7684\u4E2D\u6587\u540D\u79F0\u3001\u4F5C\u7528\u7B49"})}),(0,e.jsx)(l.Z.Item,{label:"\u751F\u6210\u6761\u6570",name:"mockNum",initialValue:20,rules:[{required:!0}],children:(0,e.jsx)(Le.Z,{min:10,max:100})}),(0,e.jsx)(l.Z.List,{name:"fieldList",children:function(v,Z){var Ae=Z.add,zt=Z.remove,Qe=Z.move;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Oe.Z,{activeKey:Te,onChange:function(I){be(I)},children:v.map(function(y,I){return(0,e.jsx)(Oe.Z.Panel,{header:(0,e.jsx)(l.Z.Item,{style:{maxWidth:320,marginBottom:0},label:"\u5B57\u6BB5\u540D",requiredMark:"optional",name:[y.name,"fieldName"],rules:[{required:!0}],children:(0,e.jsx)(J.Z,{placeholder:"\u5EFA\u8BAE\u7528\u7EAF\u82F1\u6587"})}),extra:(0,e.jsxs)(U.Z,{className:"field-toolbar",children:[I>0&&(0,e.jsx)(p.Z,{type:"text",onClick:function(O){Qe(I,I-1),O.stopPropagation()},children:(0,e.jsx)(ct.Z,{})}),I<v.length-1&&(0,e.jsx)(p.Z,{type:"text",onClick:function(O){Qe(I,I+1),O.stopPropagation()},children:(0,e.jsx)(dt.Z,{})}),(0,e.jsx)(p.Z,{type:"text",onClick:function(O){var k=r.getFieldsValue().fieldList[I];re({name:k.comment,content:JSON.stringify(k)}),b(!0),O.stopPropagation()},children:"\u4FDD\u5B58"}),(0,e.jsx)(p.Z,{type:"text",danger:!0,onClick:function(O){zt(y.name),O.stopPropagation()},children:"\u5220\u9664"})]}),children:(0,e.jsxs)(U.Z,{align:"baseline",wrap:!0,size:[24,0],children:[(0,e.jsx)(l.Z.Item,{label:"\u5B57\u6BB5\u7C7B\u578B",name:[y.name,"fieldType"],rules:[{required:!0}],children:(0,e.jsx)(Ke,{style:{width:120},placeholder:"\u8BF7\u8F93\u5165",options:B,filterOption:G})}),(0,e.jsx)(l.Z.Item,{label:"\u9ED8\u8BA4\u503C",name:[y.name,"defaultValue"],children:(0,e.jsx)(J.Z,{placeholder:"\u8981\u548C\u5B57\u6BB5\u7C7B\u578B\u5339\u914D"})}),(0,e.jsx)(l.Z.Item,{label:"\u6CE8\u91CA",name:[y.name,"comment"],children:(0,e.jsx)(J.Z,{placeholder:"\u63CF\u8FF0\u4E2D\u6587\u540D\u79F0\u3001\u4F5C\u7528\u7B49"})}),(0,e.jsx)(l.Z.Item,{label:"onUpdate",name:[y.name,"onUpdate"],children:(0,e.jsx)(Ke,{style:{width:180},placeholder:"\u5B57\u6BB5\u66F4\u65B0\u52A8\u4F5C",options:q,filterOption:G})}),(0,e.jsx)(l.Z.Item,{label:"\u975E\u7A7A",name:[y.name,"notNull"],valuePropName:"checked",children:(0,e.jsx)(Ee.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"\u4E3B\u952E",name:[y.name,"primaryKey"],valuePropName:"checked",children:(0,e.jsx)(Ee.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"\u81EA\u589E",name:[y.name,"autoIncrement"],valuePropName:"checked",children:(0,e.jsx)(Ee.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"\u6A21\u62DF\u7C7B\u578B",name:[y.name,"mockType"],initialValue:"\u56FA\u5B9A",children:(0,e.jsx)($.Z,{style:{width:120},onChange:function(){r.setFieldValue(["fieldList",I,"mockParams"],"")},children:ee.fk.map(function(A){return(0,e.jsx)(Se,{value:A,children:A},A)})})}),(0,e.jsx)(l.Z.Item,{noStyle:!0,shouldUpdate:function(O,k){var D,le;return((D=O.fieldList[I])===null||D===void 0?void 0:D.mockType)!==((le=k.fieldList[I])===null||le===void 0?void 0:le.mockType)},children:function(O){var k=O.getFieldsValue().fieldList[I].mockType;return k==="\u56FA\u5B9A"?(0,e.jsx)(l.Z.Item,{label:"\u56FA\u5B9A\u503C",name:[y.name,"mockParams"],children:(0,e.jsx)(J.Z,{placeholder:"\u8BF7\u8F93\u5165\u56FA\u5B9A\u503C"})}):k==="\u968F\u673A"?(0,e.jsx)(l.Z.Item,{label:"\u968F\u673A\u89C4\u5219",name:[y.name,"mockParams"],children:(0,e.jsx)($.Z,{style:{width:120},children:ee.wn.map(function(D){return(0,e.jsx)(Se,{value:D,children:D},D)})})}):k==="\u89C4\u5219"?(0,e.jsx)(l.Z.Item,{label:"\u89C4\u5219",name:[y.name,"mockParams"],rules:[{required:!0}],children:(0,e.jsx)(J.Z,{placeholder:"\u8BF7\u8F93\u5165\u6B63\u5219\u8868\u8FBE\u5F0F"})}):k==="\u9012\u589E"?(0,e.jsx)(l.Z.Item,{label:"\u8D77\u59CB\u503C",name:[y.name,"mockParams"],rules:[{required:!0}],children:(0,e.jsx)(Le.Z,{})}):k==="\u8BCD\u5E93"?(0,e.jsx)(l.Z.Item,{label:"\u8BCD\u5E93",name:[y.name,"mockParams"],children:(0,e.jsx)($.Z,{style:{width:150},showSearch:!0,dropdownRender:function(le){return(0,e.jsxs)(e.Fragment,{children:[le,(0,e.jsx)(Ft.Z,{style:{margin:"8px 0"}}),(0,e.jsxs)(U.Z,{align:"center",size:24,style:{marginLeft:8},children:[(0,e.jsx)(p.Z,{size:"small",onClick:function(){window.open("/dict/add")},children:"\u521B\u5EFA"}),(0,e.jsx)(p.Z,{size:"small",onClick:function(){j()},children:"\u5237\u65B0"})]})]})},children:f.map(function(D){return(0,e.jsx)(Se,{value:D.id,children:D.name},D.id)})})}):(0,e.jsx)(e.Fragment,{})}})]},y.key)},y.key)})}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(U.Z,{direction:"vertical",style:{width:"100%",marginTop:16},children:[(0,e.jsx)(p.Z,{type:"dashed",onClick:function(){return Ae(ee.lu)},block:!0,icon:(0,e.jsx)(Ce.Z,{}),children:"\u65B0\u589E\u5B57\u6BB5"}),(0,e.jsx)(p.Z,{type:"dashed",onClick:function(){var I,A;ae((I=(A=r.getFieldsValue().fieldList)===null||A===void 0?void 0:A.length)!==null&&I!==void 0?I:0),ue(!0)},block:!0,icon:(0,e.jsx)(Ce.Z,{}),children:"\u5BFC\u5165\u5B57\u6BB5"}),(0,e.jsx)(p.Z,{type:"dashed",onClick:function(){ee.ri.forEach(function(I){Ae(I)})},block:!0,icon:(0,e.jsx)(Ce.Z,{}),children:"\u65B0\u589E\u901A\u7528\u5B57\u6BB5"})]})}),(0,e.jsx)(at,{onImport:function(I){Ae(JSON.parse(I.content),ge),ue(!1),E.ZP.success("\u5BFC\u5165\u6210\u529F")},visible:Y,onClose:function(){return ue(!1)}})]})}}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(U.Z,{size:"large",wrap:!0,children:[(0,e.jsx)(p.Z,{type:"primary",htmlType:"submit",style:{width:180},children:"\u4E00\u952E\u751F\u6210"}),(0,e.jsx)(p.Z,{onClick:function(){var v=r.getFieldsValue().fieldList;if(!v||v.length<1){E.ZP.error("\u81F3\u5C11\u65B0\u589E 1 \u4E2A\u5B57\u6BB5");return}var Z=r.getFieldsValue();P({name:Z.tableComment,content:JSON.stringify(Z)}),W(!0)},children:"\u4FDD\u5B58\u8868"}),(0,e.jsx)(p.Z,{onClick:function(){Ct()(JSON.stringify(r.getFieldsValue())),E.ZP.success("\u5DF2\u590D\u5236\u5230\u526A\u5207\u677F")},children:"\u590D\u5236\u914D\u7F6E"}),(0,e.jsx)(p.Z,{htmlType:"reset",children:"\u91CD\u7F6E"})]})})]}),(0,e.jsx)(st,{modalVisible:M,initialValues:L,onSubmit:function(){return W(!1)},onCancel:function(){return W(!1)}}),(0,e.jsx)(nt,{modalVisible:a,initialValues:H,onSubmit:function(){return b(!1)},onCancel:function(){return b(!1)}})]})}),xt=yt,Zt=t(74278),Et=t(95546),St=function(n){var c=n.visible,s=n.onImport,F=n.onClose,r=(0,Fe.useModel)("@@initialState"),m=r.initialState,d=m==null?void 0:m.loginUser,f=d?function(o,h,C){(0,pe.v4)(o).then(function(a){h(a.data.records),C(a.data.total)}).catch(function(a){E.ZP.error("\u52A0\u8F7D\u5931\u8D25\uFF0C"+a.message)})}:void 0;return(0,e.jsx)(Ve.Z,{title:"\u5BFC\u5165\u8868",contentWrapperStyle:{width:"60%",minWidth:320},open:c,onClose:F,children:(0,e.jsx)(Et.Z,{onLoad:f,onImport:s})})},jt=St,gt=function(n){var c=n.visible,s=n.onSubmit,F=n.onClose,r=l.Z.useForm(),m=x()(r,1),d=m[0],f=function(h){var C=JSON.parse(h.content);s==null||s(C)};return(0,e.jsx)(ne.Z,{title:"\u5BFC\u5165\u914D\u7F6E",open:c,footer:null,onCancel:F,children:(0,e.jsxs)(l.Z,{form:d,layout:"vertical",onFinish:f,children:[(0,e.jsx)(l.Z.Item,{name:"content",label:(0,e.jsxs)(e.Fragment,{children:["\u8BF7\u8F93\u5165\u8868\u7ED3\u6784 JSON\uFF1A",(0,e.jsx)(p.Z,{onClick:function(){return d.setFieldValue("content",JSON.stringify(He))},children:"\u5BFC\u5165\u793A\u4F8B"})]}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u914D\u7F6E"}],children:(0,e.jsx)(ve.Z,{placeholder:"\u8BF7\u8F93\u5165\u914D\u7F6E JSON\uFF0C\u53EF\u4EE5\u4ECE\u8868\u5355\u8F93\u5165\u5904\u590D\u5236",autoSize:{minRows:16}})}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(U.Z,{size:"large",children:[(0,e.jsx)(p.Z,{type:"primary",htmlType:"submit",style:{width:120},children:"\u5BFC\u5165"}),(0,e.jsx)(p.Z,{htmlType:"reset",children:"\u91CD\u7F6E"})]})})]})})},It=gt,Tt=function(n){var c=n.onSubmit,s=n.visible,F=n.onClose,r=l.Z.useForm(),m=x()(r,1),d=m[0],f=function(){var o=R()(T()().mark(function h(C){var a;return T()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(C.sql){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,u.next=5,(0,se.Ae)(C);case 5:a=u.sent,c==null||c(a.data),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(2),E.ZP.error("\u5BFC\u5165\u9519\u8BEF\uFF0C"+u.t0.message);case 12:case"end":return u.stop()}},h,null,[[2,9]])}));return function(C){return o.apply(this,arguments)}}();return(0,e.jsx)(ne.Z,{title:"\u5BFC\u5165\u5EFA\u8868 SQL",open:s,footer:null,onCancel:F,children:(0,e.jsxs)(l.Z,{form:d,layout:"vertical",onFinish:f,children:[(0,e.jsx)(l.Z.Item,{name:"sql",label:(0,e.jsxs)(e.Fragment,{children:["\u8BF7\u8F93\u5165\u5EFA\u8868 SQL \u8BED\u53E5\uFF1A",(0,e.jsx)(p.Z,{onClick:function(){return d.setFieldValue("sql",Xe)},children:"\u5BFC\u5165\u793A\u4F8B"})]}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5EFA\u8868 SQL"}],children:(0,e.jsx)(ve.Z,{placeholder:"\u8BF7\u8F93\u5165\u5EFA\u8868 SQL \u8BED\u53E5\uFF0C\u53EF\u4EE5\u5728\u751F\u6210\u7ED3\u679C\u540E\u590D\u5236",autoSize:{minRows:16}})}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(U.Z,{size:"large",children:[(0,e.jsx)(p.Z,{type:"primary",htmlType:"submit",style:{width:120},children:"\u5BFC\u5165"}),(0,e.jsx)(p.Z,{htmlType:"reset",children:"\u91CD\u7F6E"})]})})]})})},bt=Tt,Bt=t(4942),At=t(55934),Pt=t(63441),Dt=t(64019),Nt=t(21770),Mt=t(66367),Vt=t(66148),Lt=t(48783),Ot=function(n){var c=n.prefixCls,s=n.rootPrefixCls,F=n.children,r=n.visible,m=i.createElement("div",{className:"".concat(c,"-content")},i.createElement("div",{className:"".concat(c,"-icon")},i.createElement(At.Z,null)));return i.createElement(Pt.Z,{visible:r,motionName:"".concat(s,"-fade")},function(d){var f=d.className;return(0,xe.Tm)(F||m,function(o){var h=o.className;return{className:ye()(f,h)}})})},Rt=function(n){var c=(0,Nt.Z)(!1,{value:n.visible}),s=(0,ke.Z)(c,2),F=s[0],r=s[1],m=i.createRef(),d=i.useRef(),f=function(){return m.current&&m.current.ownerDocument?m.current.ownerDocument:window},o=(0,Lt.t)(function(w){var V=n.visibilityHeight,L=V===void 0?400:V,P=(0,Mt.Z)(w.target,!0);r(P>L)}),h=function(){var V=n.target,L=V||f,P=L();d.current=(0,Dt.Z)(P,"scroll",function(z){o(z)}),o({target:P})};i.useEffect(function(){return h(),function(){d.current&&d.current.remove(),o.cancel()}},[n.target]);var C=function(V){var L=n.onClick,P=n.target,z=n.duration,X=z===void 0?450:z;(0,Vt.Z)(0,{getContainer:P||f,duration:X}),typeof L=="function"&&L(V)},a=i.useContext($e.E_),b=a.getPrefixCls,u=a.direction,N=n.prefixCls,M=n.className,W=M===void 0?"":M,K=b("back-top",N),te=b(),H=ye()(K,(0,Bt.Z)({},"".concat(K,"-rtl"),u==="rtl"),W),re=(0,Ue.Z)(n,["prefixCls","className","children","visibilityHeight","target","visible"]);return i.createElement("div",(0,Re.Z)({},re,{className:H,onClick:C,ref:m}),i.createElement(Ot,{prefixCls:K,rootPrefixCls:te,visible:F},n.children))},kt=i.memo(Rt),Ut=t(91894),$t=t(11324),oe=t(47933),wt=t(71230),ze=t(15746),Jt=function(){var n=(0,i.useState)(),c=x()(n,2),s=c[0],F=c[1],r=(0,i.useState)(!1),m=x()(r,2),d=m[0],f=m[1],o=(0,i.useState)(!1),h=x()(o,2),C=h[0],a=h[1],b=(0,i.useState)(!1),u=x()(b,2),N=u[0],M=u[1],W=(0,i.useState)(!1),K=x()(W,2),te=K[0],H=K[1],re=(0,i.useState)(!1),w=x()(re,2),V=w[0],L=w[1],P=(0,i.useRef)(),z=(0,i.useState)("half"),X=x()(z,2),Y=X[0],ue=X[1],je=(0,Fe.useSearchParams)(),ce=x()(je,1),ge=ce[0],ae=ge.get("table_id"),Ie=function(){var j=R()(T()().mark(function B(q){var G;return T()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return L(!0),v.prev=1,v.next=4,(0,se.Gf)(q);case 4:G=v.sent,F(G.data),E.ZP.success("\u5DF2\u751F\u6210"),v.next=12;break;case 9:v.prev=9,v.t0=v.catch(1),E.ZP.error("\u751F\u6210\u9519\u8BEF\uFF0C"+v.t0.message);case 12:L(!1);case 13:case"end":return v.stop()}},B,null,[[1,9]])}));return function(q){return j.apply(this,arguments)}}(),Q=function(B){P.current.setFormValues(B),f(!1),a(!1),M(!1),E.ZP.success("\u5BFC\u5165\u6210\u529F")};(0,i.useEffect)(function(){!ae||(0,pe.kP)(Number(ae)).then(function(j){var B=JSON.parse(j.data.content);Q(B)}).catch(function(j){E.ZP.error("\u5BFC\u5165\u8868\u5931\u8D25\uFF0C"+j.message)})},[ae]);var Te={name:"file",showUploadList:!1,customRequest:function(){var j=R()(T()().mark(function q(G){var g;return T()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(G){Z.next=2;break}return Z.abrupt("return");case 2:return Z.prev=2,Z.next=5,(0,se.g9)(G.file);case 5:g=Z.sent,Q(g.data),Z.next=12;break;case 9:Z.prev=9,Z.t0=Z.catch(2),E.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+Z.t0.message);case 12:case"end":return Z.stop()}},q,null,[[2,9]])}));function B(q){return j.apply(this,arguments)}return B}()},be=function(B){ue(B.target.value)},Be=(0,e.jsxs)(Ut.Z,{title:"\u8F93\u5165\u914D\u7F6E",extra:(0,e.jsx)($.Z,{defaultValue:"MySQL",style:{width:120},disabled:!0,children:(0,e.jsx)($.Z.Option,{value:"MySQL",children:"MySQL"})}),children:[(0,e.jsxs)(U.Z,{size:"large",wrap:!0,children:[(0,e.jsx)(p.Z,{type:"primary",ghost:!0,onClick:function(){return f(!0)},children:"\u667A\u80FD\u5BFC\u5165"}),(0,e.jsx)(p.Z,{onClick:function(){return H(!0)},children:"\u5BFC\u5165\u8868"}),(0,e.jsx)(p.Z,{onClick:function(){return a(!0)},children:"\u5BFC\u5165\u914D\u7F6E"}),(0,e.jsx)(p.Z,{onClick:function(){return M(!0)},children:"\u5BFC\u5165\u5EFA\u8868 SQL"}),(0,e.jsx)($t.Z,_()(_()({},Te),{},{children:(0,e.jsx)(p.Z,{children:"\u5BFC\u5165 Excel"})}))]}),(0,e.jsx)("div",{style:{marginTop:16}}),(0,e.jsx)(xt,{ref:P,onSubmit:Ie})]});return(0,e.jsxs)("div",{id:"indexPage",children:[(0,e.jsxs)(he._zJ,{title:(0,e.jsxs)(e.Fragment,{children:["\u5FEB\u901F\u751F\u6210 SQL \u548C\u6A21\u62DF\u6570\u636E\uFF0C\u5927\u5E45\u63D0\u9AD8\u5F00\u53D1\u6D4B\u8BD5\u6548\u7387\uFF01",(0,e.jsx)("a",{href:"https://www.bilibili.com/video/BV1eP411N7B7/",target:"_blank",rel:"noreferrer",children:"\u67E5\u770B\u89C6\u9891\u6559\u7A0B"})]}),extra:(0,e.jsxs)("div",{style:{marginLeft:0},children:["\u5207\u6362\u5E03\u5C40\uFF1A",(0,e.jsxs)(oe.ZP.Group,{onChange:be,value:Y,children:[(0,e.jsx)(oe.ZP.Button,{value:"input",children:"\u914D\u7F6E"}),(0,e.jsx)(oe.ZP.Button,{value:"half",children:"\u540C\u5C4F"}),(0,e.jsx)(oe.ZP.Button,{value:"output",children:"\u7ED3\u679C"})]})]}),children:[(0,e.jsxs)(wt.Z,{gutter:[12,12],children:[(0,e.jsx)(ze.Z,{xs:24,xl:Y==="half"?12:24,order:Y==="output"?2:1,children:Be}),(0,e.jsx)(ze.Z,{xs:24,xl:Y==="half"?12:24,order:Y==="output"?1:2,children:(0,e.jsx)(Zt.Z,{result:s,loading:V})})]}),(0,e.jsx)(kt,{})]}),(0,e.jsx)(qe,{onSubmit:Q,visible:d,onClose:function(){return f(!1)}}),(0,e.jsx)(It,{onSubmit:Q,visible:C,onClose:function(){return a(!1)}}),(0,e.jsx)(bt,{onSubmit:Q,visible:N,onClose:function(){return M(!1)}}),(0,e.jsx)(jt,{onImport:function(B){P.current.setFormValues(JSON.parse(B.content)),H(!1),E.ZP.success("\u5BFC\u5165\u6210\u529F")},visible:te,onClose:function(){return H(!1)}})]})},Kt=Jt}}]);
